%%% Font.
%\RequirePackage{libertinus}
\RequirePackage[regular]{newcomputermodern}  % newest version of Computer Modern (regular: display weight)

\RenewDocumentCommand{\abb}{m}{\text{#1}}  % abbreviations
\setkomafont{captionlabel}{\usekomafont{descriptionlabel}}

\RenewDocumentCommand{\caseintextfont}{}{\maybesffamily\itshape}

% Colours in titles.
%\NewDocumentCommand{\accentcolor}{}{\color[RGB]{118, 13, 28}}  % Mordred's red
%\NewDocumentCommand{\accentcolor}{}{\color[RGB]{51, 0, 102}}  % algo's violet
\NewDocumentCommand{\accentcolor}{}{\color{black}}
\addtokomafont{captionlabel}{\accentcolor}
\addtokomafont{disposition}{\accentcolor}
\addtokomafont{labelinglabel}{\accentcolor}
\addtokomafont{itemizelabel}{\accentcolor}
\addtokomafont{descriptionlabel}{\accentcolor}

% Title page.
\setkomafont{publishers}{}  % \publishers in normal font

% Logic notation.
\let\oldforall\forall
\renewcommand{\forall}{\oldforall \, }

\let\oldexist\exists
\renewcommand{\exists}{\oldexist \: }

\newcommand\existsnot{\oldexist! \: }

% Links.
\hypersetup{
	colorlinks,
	bookmarksopen,
	bookmarksnumbered,
	linkcolor=black,
	plainpages=false,
	hypertexnames=false,
	citecolor=blue!80!black,
	urlcolor=red,
}

%% Set style of operators.
%% taken from: https://tex.stackexchange.com/a/604317
%\DeclareSymbolFont{sansops}{T1}{\sfdefault}{m}{n}
%\SetSymbolFont{sansops}{bold}{T1}{\sfdefault}{b}{n}
%
%\makeatletter
%\renewcommand\operator@font{\mathgroup\symsansops}
%\makeatother


%%% Page style.
\geometry{margin=3cm}

\captionsetup{format=plain}


%%% Theory environments.
% Environments in roman style with bold title.
\newtheoremstyle{definition}
	{\topsep}   % ABOVESPACE
	{\topsep}   % BELOWSPACE
	{\normalfont}  % BODYFONT
	{0pt}       % INDENT (empty value is the same as 0pt)
	{\accentcolor\maybesffamily\bfseries} % HEADFONT
	{.}         % HEADPUNCT
	{5pt plus 1pt minus 1pt} % HEADSPACE
	{}          % CUSTOM-HEAD-SPEC

\theoremstyle{definition}
\newtheorem{definition}{Definition}
%\AfterEndEnvironment{definition}{\noindent\ignorespaces}
\newtheorem{example}{Example}
\newtheorem{condition}{Condition}
\newtheorem{problem}{Problem}

% Environments in italic style with bold title.
\newtheoremstyle{plain}
	{\topsep}   % ABOVESPACE
	{\topsep}   % BELOWSPACE
	{\itshape}  % BODYFONT
	{0pt}       % INDENT (empty value is the same as 0pt)
	{\accentcolor\maybesffamily\bfseries} % HEADFONT
	{.}         % HEADPUNCT
	{5pt plus 1pt minus 1pt} % HEADSPACE
	{}          % CUSTOM-HEAD-SPEC

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}
\newtheorem{proposition}{Proposition}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\newtheorem{observation}{Observation}
\newtheorem{conjecture}{Conjecture}

% Environments in roman style with italic title.
\newtheoremstyle{remark}
	{0.5\topsep}   % ABOVESPACE
	{0.5\topsep}   % BELOWSPACE
	{\normalfont}  % BODYFONT
	{0pt}       % INDENT (empty value is the same as 0pt)
	{\accentcolor\maybesffamily\itshape} % HEADFONT
	{.}         % HEADPUNCT
	{5pt plus 1pt minus 1pt} % HEADSPACE
	{}          % CUSTOM-HEAD-SPEC

\theoremstyle{remark}
\newtheorem{remark}{Remark}
\newtheorem{annotation}{Annotation}
\newtheorem{claim}{Claim}
\newtheorem*{note}{Note}  % No numbering
\newtheorem{case}{Case}
\newtheorem{acknowledgment}{Acknowledgment}
\newtheorem{conclusion}{Conclusion}

% Proof marker in roman style.
\xpatchcmd{\proof}{\itshape}{\maybesffamily}{}{}
\xpatchcmd{\proof}{.}{{\maybesffamily.}}{}{}


%%% Algorithms.
\DontPrintSemicolon
\SetKwComment{tct}{\raisebox{0.10em}{\scriptsize\(\rhd\)}\,}{}
\SetAlCapFnt{\accentcolor\maybesffamily}
\SetFuncSty{setoperatorname}
\SetCommentSty{emph}
%\SetKwInOut{KwIn}{\maybesffamily Input}
%\SetKwInOut{KwOut}{\maybesffamily Output\!}
\SetKwInOut{KwIn}{Input}
\SetKwInOut{KwOut}{Output\!}


%%% PDF options.
\hypersetup{
	pdfdisplaydoctitle=true,
}